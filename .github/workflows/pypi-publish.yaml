name: Publish to PyPI

on:
  repository_dispatch:
  push:
    tags:
      - 'v*.*.*'

permissions: write-all

jobs:
    publish:
        runs-on: ubuntu-latest
        permissions:
          contents: write
          issues: write
          packages: write
        steps:
            - name: publish-pypi
              uses: bitovi/github-actions-publish-github-pypi@main
              with:
                github-token: ${{ github.token }}
                pypi-github-org: bitovi
                pypi-github-repo: PyPI
                pypi-github-workflow-ref: initial-working